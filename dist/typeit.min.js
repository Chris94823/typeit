/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v6.5.1
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).TypeIt=t()}(this,(function(){"use strict";var n={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},t=function(n){return n.map((function(n){return void 0===n[1]&&n.push(null),void 0===n[2]&&n.push({}),n}))},e=function(n,t,e){e=e||!1;var r=!Array.isArray(n),i=n.length;return(n=r?new Array(n).fill(0):n).map((function(n,o){if(r)return t;var u=[t,n];return e&&(0===o&&u.push({isFirst:!0}),o+1===i&&u.push({isLast:!0})),u}))};function r(n){this.insert=function(n,t){r.splice(n,0,t)},this.add=function(n,t,i){return n=Array.isArray(n)?n:[n,null],i=i||!1,t=t||1,Array.isArray(n[0])||(n=e(t,n)),r=i?n.concat(r):r.concat(n),this},this.delete=function(n){return r.splice(n,1),this},this.reset=function(){return r=t(r).map((function(n){return n[2].executed=!1,n})),this},this.getItems=function(){return t(r).filter((function(n){return!n.executed}))};var r=[];n&&this.add(n)}var i=function(n){return Array.from(n)},o=function(n){var t=[];return t.concat.apply(t,n)},u=function(n){var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=n,t.body},c=function(n){return 3===n.nodeType||"BR"===n.tagName},a=function n(t,e,r){e=e||null,r=void 0!==r&&r;var u=i(t.childNodes).map((function(t){return c(t)?t:n(t)}));return u=o(u),e&&(u=u.filter((function(n){return!n.parentNode.isEqualNode(e)}))),r?u.reverse():u},f=function(n,t){t=t||null;var e=n instanceof HTMLElement;return{node:t,isTopLevelText:!(t&&"BODY"!==t.parentNode.tagName||e),isHTMLElement:e,content:n}};function s(n){var t,e=u(n);return t=a(e).map((function(n){return n.nodeValue?i(n.nodeValue).map((function(t){return f(t,n)})):f(n)})),o(t)}function l(n,t){return(t=void 0===t||t)?s(n):i(n).map((function(n){return f(n)}))}var d=function(n){return document.createElement(n)},h=function(n,t){var e=d("style");e.id=t||"",e.appendChild(document.createTextNode(n)),document.head.appendChild(e)},v=function(n){return Array.isArray(n)||(n=[n/2,n/2]),{before:n[0],after:n[1],total:n[0]+n[1]}},p=function(n,t){return Math.abs(Math.random()*(n+t-(n-t))+(n-t))};var m=function(n){return["textarea","input"].indexOf(n.tagName.toLowerCase())>-1},y=function(n,t){var e=t.querySelectorAll("*");return[t].concat(i(e).reverse()).find((function(t){return t.cloneNode().outerHTML===n.outerHTML}))},g=function(n,t,e,r){e=e||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(m(n))n.value="".concat(n.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var u=t.node.parentNode,c=y(u.cloneNode(),n);if(function(n,t){if(!n)return!1;var e=n.nextSibling;return!e||e.isEqualNode(t)}(c,e))n=c;else if((o=u.cloneNode()).innerText=t.content,"BODY"!==u.parentNode.tagName){for(var f=u.parentNode,s=f.cloneNode(),l=y(s,n);!l&&"BODY"!==f.tagName;)s.innerHTML=o.outerHTML,o=s,s=f.parentNode.cloneNode(),f=f.parentNode,l=y(s,n);l&&(n=l)}}var d=a(n,e,!0);d=d[r-1],d=n.querySelector(".ti-cursor")||d,n.insertBefore(o,d||null)}},b=function(n,t){return Object.assign({},n,t)},S=function(n){return n&&n.parentNode.removeChild(n)},N=function(n){return!n.firstChild&&!c(n)},T=function(n){return n.some((function(n){return N(n)}))};var L=function(n,t,e){var r,i="string"==typeof n,o=!1,u=-1*n;return i&&(u=(r="END"===n.toUpperCase())?-1:1,o=r?t+u>0:t+u<e.length),{isString:i,numberOfSteps:u,canKeepMoving:o}};function x(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function D(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function M(){}function A(n,t){if(!t)return n&&n.then?n.then(M):Promise.resolve()}function w(n,t){var e=n();return e&&e.then?e.then(t):t(e)}function E(n,t,e){if(!n.s){if(e instanceof H){if(!e.s)return void(e.o=E.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(E.bind(null,n,t),E.bind(null,n,2));n.s=t,n.v=e;var r=n.o;r&&r(n)}}var H=function(){function n(){}return n.prototype.then=function(t,e){var r=new n,i=this.s;if(i){var o=1&i?t:e;if(o){try{E(r,1,o(this.v))}catch(n){E(r,2,n)}return r}return this}return this.o=function(n){try{var i=n.v;1&n.s?E(r,1,t?t(i):i):e?E(r,1,e(i)):E(r,2,i)}catch(n){E(r,2,n)}},r},n}();function C(n,t){return n&&n.then?n.then(t):t(n)}return function(t,o){var c=this,y=this;o=o||{};var O=function(n,t){return rn.add(n,t),y},P=function(n){n=n||{};var t=b({},$),e=b(t,n);return[[U,e,{force:!0}],[U,t,{force:!0}]]},k=function(){return G?i(Q.value):a(Q,on,!0)},B=function(n,t){t=t||1;var e=$.nextStringDelay;rn.insert(n,[R,e.before]),rn.insert(n+t+1,[R,e.after])},q=D((function(n,t){return W.push(setTimeout(n,t)),x()})),z=D((function(n){return w((function(){if(X)return A(move(-1*X))}),(function(){rn.reset().delete(0).add([R,n.before],!0),k().forEach((function(n){rn.add([F,null,{isPhantom:!0}],1,!0)}))}))})),I=D((function(){Z.started=!0;var n=rn.getItems();return C(function(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}((function(){return C(function(n,t,e){var r,i,o=-1;return function u(c){try{for(;++o<n.length&&(!e||!e());)if((c=t(o))&&c.then){if(!((a=c)instanceof H&&1&a.s))return void c.then(u,i||(i=E.bind(null,r=new H,2)));c=c.v}r?E(r,1,c):r=c}catch(n){E(r||(r=new H),2,n)}var a}(),r}(n,(function(t){if(Z.frozen||Z.destroyed)throw"";var e,r,i,o,u=n[t],a=[u,rn,c];return e=$.speed,r=$.deleteSpeed,i=$.lifeLike,o=(r=null!==r?r:e/3)/2,J=i?[p(e,e/2),p(r,o)]:[e,r],w((function(){var n,t;if(null===(n=u[2])||void 0===n?void 0:n.isFirst)return A((t=$).beforeString.apply(t,a))}),(function(){var n;return x((n=$).beforeStep.apply(n,a),(function(){return x(u[0].call(c,u[1],u[2]),(function(){return function(n){var t=n();if(t&&t.then)return t.then(M)}((function(){if(!u[2]||!u[2].isPhantom)return w((function(){var n,t;if(null===(n=u[2])||void 0===n?void 0:n.isLast)return A((t=$).afterString.apply(t,a))}),(function(){var n;return x((n=$).afterStep.apply(n,a),(function(){u[2].executed=!0}))}))}))}))}))}))}),(function(){return!1})),(function(n){return Z.completed=!0,x($.afterComplete(c),(function(){if($.loop){var n=$.loopDelay||$.nextStringDelay;q((function(){return x(z(n),(function(){I()}))}),n.after)}}))}))}),M),(function(n){return c}))})),R=function(n){return new Promise((function(t){q((function(){return t()}),n||$.nextStringDelay.total)}))},V=function n(t){var e=k(),r=L(t,X,e);return X+=r.numberOfSteps,new Promise((function(t){q(D((function(){return function(n,t,e,r){if(e){var i=r,o=t[(i=i>t.length?t.length:i)-1];n.insertBefore(e,o||null)}}(Q,k(),on,X),w((function(){if(r.isString&&r.canKeepMoving)return A(n(r.numberOfSteps>0?"START":"END"))}),(function(){return t()}))})),J[0])}))},j=function(n){return new Promise((function(t){q((function(){return g(Q,n,on,X),t()}),J[0])}))},U=D((function(n){$=b($,n)})),Y=D((function(){G?Q.value="":k().forEach((function(n){S(n)}))})),F=function n(t){return t=t||!1,new Promise((function(e){q(D((function(){var r=!1,o=k();return o.length&&(G?Q.value=Q.value.slice(0,-1):S(o[X])),function(n){for(var t=i(n.querySelectorAll("*")),e=T(t);t.length&&e;){var r=!1;t.forEach((function(n){N(n)&&(S(n),r=!0)})),r&&(t=i(n.querySelectorAll("*"))),e=T(t)}}(Q),w((function(){if(t&&o.length-1>0)return x(n(!0),(function(){return r=!0,e()}))}),(function(n){return r?n:e()}))})),J[1])}))};this.break=function(){return rn.add([j,d("BR")])},this.delete=function(n,t){var e=P(t);return rn.add(e[0]),rn.add([F,!n],n||1),rn.add(e[1]),this},this.destroy=function(n){n=void 0===n||n,W.forEach((function(n){clearTimeout(n)})),W=[],n&&S(on),Z.destroyed=!0},this.empty=function(){return O(Y)},this.exec=function(n,t){var e=P(t);return O([e[0],[n,null],e[1]])},this.is=function(n){return Z[n]},this.move=function(n,t){var e=L(n,X,k()),r=P(t);return rn.add(r[0]),rn.add([V,e.isString?n:Math.sign(n)],Math.abs(n)),rn.add(r[1]),this},this.freeze=function(){Z.frozen=!0},this.unfreeze=function(){Z.frozen=!1,!Z.frozen&&I()},this.options=function(n){return O([U,n])},this.pause=function(n){return O([R,n||null])},this.type=function(n,t){var r=P(t),i=l(n,$.html);return O([r[0]].concat(e(i,j,!0),[r[1]]))},this.getQueue=function(){return rn},this.getOptions=function(){return $},this.reset=function(){for(var n in!this.is("destroyed")&&this.destroy(),rn.reset(),Z)Z[n]=!1;return this},this.go=function(){return Z.started?this:(on&&(h("@keyframes blink-".concat(en," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} }[data-typeit-id='").concat(en,"'] .ti-cursor { animation: blink-").concat(en," ").concat($.cursorSpeed/1e3,"s infinite; }"),en),Q.appendChild(on)),$.waitUntilVisible?(function(n,t){new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(),r.unobserve(n))}))}),{threshold:1}).observe(n)}(Q,I.bind(this)),this):(I(),this))};var K,Q="string"==typeof(K=t)?document.querySelector(K):K,G=m(Q),J=[],W=[],X=0,Z={started:!1,completed:!1,frozen:!1,destroyed:!1},$=b(n,o);$=b($,{html:!G&&$.html,nextStringDelay:v($.nextStringDelay),loopDelay:v($.loopDelay)});var _,nn,tn,en=Math.random().toString().substring(2,9),rn=new r([R,$.startDelay]);Q.setAttribute("data-typeit-id",en),h("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),$.strings=(tn=$.strings,_=Array.isArray(tn)?tn:[tn],(nn=function(n){return n.innerHTML.replace(/<\!--.*?-->/g,"").trim()}(Q))?(Q.innerHTML="",$.startDelete?(s(nn).forEach((function(n){g(Q,n,on,X)})),rn.add([F,!0]),B(1),_):[nn.trim()].concat(_)):_);var on=function(){if(G||!$.cursor)return null;var n=d("span");return n.innerHTML=u($.cursorChar).innerHTML,n.className="ti-cursor",n.setAttribute("style","display:inline;position:absolute;font:inherit;color:inherit;line-height:inherit;margin-left:-.1em;"),n}();$.strings.length&&$.strings.forEach((function(n,t){var r=l(n,$.html);rn.add(e(r,j,!0));var i=rn.getItems().length;if(t+1!==$.strings.length){if($.breakLines){var o=f(d("BR"));return rn.add([j,o]),void B(i)}rn.add(e(r,F)),B(i,n.length)}}))}}));
