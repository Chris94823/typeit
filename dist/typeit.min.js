/**
  * TypeIt - The most versatile animated typing utility on the planet.
  * Author: Alex MacArthur <alex@macarthur.me> (https://macarthur.me)
  * Version: v6.5.1
  * License: GPL-2.0
  * URL: https://typeitjs.com
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n=n||self).TypeIt=t()}(this,(function(){"use strict";var n={strings:[],speed:100,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,lifeLike:!0,breakLines:!0,startDelay:250,startDelete:!1,nextStringDelay:750,loop:!1,loopDelay:750,html:!0,waitUntilVisible:!1,beforeString:function(){},afterString:function(){},beforeStep:function(){},afterStep:function(){},afterComplete:function(){}},t=function(n){return n.map((function(n){return void 0===n[1]&&n.push(null),void 0===n[2]&&n.push({}),n}))},e=function(n,t,e){e=e||!1;var r=!Array.isArray(n),i=n.length;return(n=r?new Array(n).fill(0):n).map((function(n,o){if(r)return t;var u=[t,n];return e&&(0===o&&u.push({isFirst:!0}),o+1===i&&u.push({isLast:!0})),u}))};function r(n){n=n||null,this.insert=function(n,t){r.splice(n,0,t)},this.add=function(n,t,i){return n=Array.isArray(n)?n:[n,null],i=i||!1,t=t||1,Array.isArray(n[0])||(n=e(t,n)),r=i?n.concat(r):r.concat(n),this},this.delete=function(n){return r.splice(n,1),this},this.reset=function(){return r=t(r).map((function(n){return n[2].hasBeenExecuted=!1,n})),this},this.getItems=function(){return t(r).filter((function(n){return!n.hasBeenExecuted}))};var r=[];n&&this.add(n)}var i=function(n){return Array.from(n)},o=function(n){var t=[];return t.concat.apply(t,n)},u=function(n){var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=n,t.body},a=function(n){return 3===n.nodeType||"BR"===n.tagName},c=function n(t,e,r){e=e||null,r=void 0!==r&&r;var u=i(t.childNodes).map((function(t){return a(t)?t:n(t)}));return u=o(u),e&&(u=u.filter((function(n){return!n.parentNode.isEqualNode(e)}))),r?u.reverse():u},f=function(n,t){t=t||null;var e=n instanceof HTMLElement;return{node:t,isTopLevelText:!(t&&"BODY"!==t.parentNode.tagName||e),isHTMLElement:e,content:n}};function s(n){var t,e=u(n);return t=c(e).map((function(n){return n.nodeValue?i(n.nodeValue).map((function(t){return f(t,n)})):f(n)})),o(t)}function l(n,t){return(t=void 0===t||t)?s(n):i(n).map((function(n){return f(n)}))}var d=function(n){return document.createElement(n)},h=function(n,t){var e=d("style");e.id=t||"",e.appendChild(document.createTextNode(n)),document.head.appendChild(e)},v=function(n){return Array.isArray(n)||(n=[n/2,n/2]),{before:n[0],after:n[1],total:n[0]+n[1]}},p=function(n,t){return Math.abs(Math.random()*(n+t-(n-t))+(n-t))};var y=function(n){return["textarea","input"].indexOf(n.tagName.toLowerCase())>-1},m=function(n,t){var e=t.querySelectorAll("*");return[t].concat(i(e).reverse()).find((function(t){return t.cloneNode().outerHTML===n.outerHTML}))},g=function(n,t,e,r){e=e||null;var i=t.isHTMLElement,o=i?t.content:document.createTextNode(t.content);if(y(n))n.value="".concat(n.value).concat(t.content);else{if(!t.isTopLevelText&&!i){var u=t.node.parentNode,a=m(u.cloneNode(),n);if(function(n,t){if(!n)return!1;var e=n.nextSibling;return!e||e.isEqualNode(t)}(a,e))n=a;else if((o=u.cloneNode()).innerText=t.content,"BODY"!==u.parentNode.tagName){for(var f=u.parentNode,s=f.cloneNode(),l=m(s,n);!l&&"BODY"!==f.tagName;)s.innerHTML=o.outerHTML,o=s,s=f.parentNode.cloneNode(),f=f.parentNode,l=m(s,n);l&&(n=l)}}var d=c(n,e,!0);d=d[r-1],d=n.querySelector(".ti-cursor")||d,n.insertBefore(o,d||null)}},b=function(n){return n&&n.parentNode.removeChild(n)},S=function(n){return!a(n)&&!n.firstChild},T=function(n){return n.some((function(n){return S(n)}))};var N=function(n,t,e){var r="string"==typeof n,i=!1,o=-1*n;return r&&(i="END"===n.toUpperCase()?t+(o=-1)>0:t+(o=1)<e.length),{isString:r,numberOfSteps:o,canKeepMoving:i}};function L(n,t,e){return e?t?t(n):n:(n&&n.then||(n=Promise.resolve(n)),t?n.then(t):n)}function M(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(n.apply(this,t))}catch(n){return Promise.reject(n)}}}function x(){}function D(n,t){if(!t)return n&&n.then?n.then(x):Promise.resolve()}function A(n,t){var e=n();return e&&e.then?e.then(t):t(e)}function E(n,t,e){if(!n.s){if(e instanceof w){if(!e.s)return void(e.o=E.bind(null,n,t));1&t&&(t=e.s),e=e.v}if(e&&e.then)return void e.then(E.bind(null,n,t),E.bind(null,n,2));n.s=t,n.v=e;var r=n.o;r&&r(n)}}var w=function(){function n(){}return n.prototype.then=function(t,e){var r=new n,i=this.s;if(i){var o=1&i?t:e;if(o){try{E(r,1,o(this.v))}catch(n){E(r,2,n)}return r}return this}return this.o=function(n){try{var i=n.v;1&n.s?E(r,1,t?t(i):i):e?E(r,1,e(i)):E(r,2,i)}catch(n){E(r,2,n)}},r},n}();return function(t,o,a){var m=this,H=this;o=o||{},a=a||Math.random().toString(36).substring(2,15);var O=function(n,t){return Z.add(n,t),H},B=function(){return K?i(F.value):c(F,nn,!0)},C=function(n,t){t=t||1;var e=X.nextStringDelay;Z.insert(n,[z,e.before]),Z.insert(n+t+1,[z,e.after])},P=M((function(n,t){return G.push(setTimeout(n,t)),L()})),k=M((function(n){return A((function(){if(J)return D(move(-1*J))}),(function(){Z.reset().delete(0).add([z,n.before],!0);for(var t=0;t<B().length;t++)Z.add([U,null,{isPhantom:!0}],1,!0)}))})),q=M((function(){W.started=!0;var n=Z.getItems();return function(n,t){try{var e=n()}catch(n){return t(n)}return e&&e.then?e.then(void 0,t):e}((function(){return t=function(n,t,e){var r,i,o=-1;return function u(a){try{for(;++o<n.length&&(!e||!e());)if((a=t(o))&&a.then){if(!((c=a)instanceof w&&1&c.s))return void a.then(u,i||(i=E.bind(null,r=new w,2)));a=a.v}r?E(r,1,a):r=a}catch(n){E(r||(r=new w),2,n)}var c}(),r}(n,(function(t){if(W.frozen||W.destroyed)throw new Error("fail");var e,r,i,o,u=n[t],a=[u,Z,m];return e=X.speed,r=X.deleteSpeed,i=X.lifeLike,o=(r=null!==r?r:e/3)/2,Q=i?[p(e,e/2),p(r,o)]:[e,r],A((function(){var n;if(u[2]&&u[2].isFirst)return D((n=X).beforeString.apply(n,a))}),(function(){var n;return L((n=X).beforeStep.apply(n,a),(function(){return L(u[0].call(m,u[1],u[2]),(function(){return function(n){var t=n();if(t&&t.then)return t.then(x)}((function(){if(!u[2]||!u[2].isPhantom)return A((function(){var n;if(u[2]&&u[2].isLast)return D((n=X).afterString.apply(n,a))}),(function(){var n;return L((n=X).afterStep.apply(n,a),(function(){u[2]={hasBeenExecuted:!0}}))}))}))}))}))}))}),(function(){return!1})),e=function(n){return W.completed=!0,L(X.afterComplete(m),(function(){if(X.loop){var n=X.loopDelay||X.nextStringDelay;P((function(){return L(k(n),(function(){q()}))}),n.after)}}))},t&&t.then?t.then(e):e(t);var t,e}),x)})),z=function(n){return new Promise((function(t){P((function(){return t()}),n||X.nextStringDelay.total)}))},I=function n(t){var e=B(),r=N(t,J,e);return J+=r.numberOfSteps,new Promise((function(t){P((function(){return function(n,t,e,r){if(e){var i=r,o=t[(i=i>t.length?t.length:i)-1];n.insertBefore(e,o||null)}}(F,B(),nn,J),r.isString&&r.canKeepMoving?n(r.numberOfSteps>0?"START":"END").then((function(){return t()})):t()}),Q[0])}))};this.move=function(n){var t=N(n,J,B());return Z.add([I,t.isString?n:Math.sign(n)],Math.abs(n)),this};var j=function(n){return new Promise((function(t){P((function(){return g(F,n,nn,J),t()}),Q[0])}))},R=M((function(n){X=Object.assign({},X,n)})),V=M((function(){K?F.value="":B().forEach((function(n){b(n)}))})),U=function n(t){return t=t||!1,new Promise((function(e){P(M((function(){var r=!1,o=B();return o.length&&(K?F.value=F.value.slice(0,-1):b(o[J])),function(n){for(var t=i(n.querySelectorAll("*")),e=T(t);t.length&&e;){var r=!1;t.forEach((function(n){S(n)&&(b(n),r=!0)})),r&&(t=i(n.querySelectorAll("*"))),e=T(t)}}(F),A((function(){if(t&&o.length-1>0)return L(n(!0),(function(){return r=!0,e()}))}),(function(n){return r?n:e()}))})),Q[1])}))};this.break=function(){return Z.add([j,d("BR")])},this.delete=function(n){return Z.add([U,!n],n||1),this},this.destroy=function(n){n=void 0===n||n,G.forEach((function(n){clearTimeout(n)})),G=[],n&&b(nn),W.destroyed=!0},this.empty=function(){return O(V)},this.exec=function(n){return O(n)},this.is=function(n){return W[n]},this.freeze=function(){W.frozen=!0},this.unfreeze=function(){W.frozen=!1,!W.frozen&&q()},this.options=function(n){return O([R,n])},this.pause=function(n){return O([z,n||null])},this.type=function(n){var t=l(n,X.html);return O(e(t,j,!0))},this.getQueue=function(){return Z},this.getOptions=function(){return X},this.reset=function(){for(var n in!this.is("destroyed")&&this.destroy(),Z.reset(),W)W[n]=!1;return this},this.go=function(){return W.started?this:(nn&&(h("@keyframes blink-".concat(a," { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} }[data-typeit-id='").concat(a,"'] .ti-cursor { animation: blink-").concat(a," ").concat(X.cursorSpeed/1e3,"s infinite; }"),a),F.appendChild(nn)),X.waitUntilVisible?(function(n,t){new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(),r.unobserve(n))}))}),{threshold:1}).observe(n)}(F,q.bind(this)),this):(q(),this))};var Y,F=("string"==typeof(Y=t)&&(Y=document.querySelector(Y)),Y),K=y(F),Q=[],G=[],J=0,W={started:!1,completed:!1,frozen:!1,destroyed:!1},X=Object.assign({},n,o);X=Object.assign({},X,{html:!K&&X.html,nextStringDelay:v(X.nextStringDelay),loopDelay:v(X.loopDelay)});var Z=new r([z,X.startDelay]);F.setAttribute("data-typeit-id",a),h("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}"),function(n,t){t?n.value="":n.querySelector(".ti-cursor")&&(n.innerHTML="")}(F,K);var $,_=($=X.strings,Array.isArray($)?$:[$]);_=function(n){var t=F.innerHTML;return t?(F.innerHTML="",X.startDelete?(s(t).forEach((function(n){g(F,n,nn,J)})),Z.add([U,!0]),C(1),n):[t.trim()].concat(n)):n}(_),X.strings=_.map((function(n){return n.replace(/<\!--.*?-->/g,"")}));var nn=function(){if(K||!X.cursor)return null;var n=d("span");return n.innerHTML=u(X.cursorChar).innerHTML,n.className="ti-cursor",n.setAttribute("style","display:inline;position:absolute;font:inherit;color:inherit;line-height:inherit;margin-left:-.1em;"),n}();X.strings.length&&X.strings.forEach((function(n,t){var r=l(n,X.html);Z.add(e(r,j,!0));var i=Z.getItems().length;if(t+1!==X.strings.length){if(X.breakLines){var o=f(d("BR"));return Z.add([j,o]),void C(i)}Z.add(e(r,U)),C(i,n.length)}}))}}));
